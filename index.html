<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css2?family=Mukta:wght@200&family=Playfair+Display:ital,wght@0,400;1,500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="api.css">
<link rel="stylesheet" href=
"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />
<title>Wether App</title>

</head>
<body>
   
    <div class="container">
        <div class="card">
            <h2><ion-icon name="location-outline"></ion-icon><span id ="location"></span></h2>
            <h6 id="weather"></h6>
            <h4><span id="temp"></span><sup>o</sup>C</h4>
            <img src="" id="icon">
            <!-- <i class="bi bi-cloudy" ></i> -->
            <button onclick="window.location.reload()" class="refresh"><i class="bi bi-arrow-clockwise"></i></i></button>
        
        
        </div>
    </div>

    
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
<script>
    link = "https://api.openweathermap.org/data/2.5/weather?lat=30.3256&lon=78.0437&appid=94183cbe1f9f9e10194e13129be90914";
    var request= new XMLHttpRequest();
    request.open('GET',link,true);
    request.onload = function(){
     var obj =JSON.parse(this.response);
     console.log(obj);
     document.getElementById('weather').innerHTML=obj.weather[0].description;
     document.getElementById('location').innerHTML=obj.name;
     document.getElementById("temp").innerHTML= Math.round(obj.main.temp -273.15);
     document.getElementById('icon').src= "http://openweathermap.org/img/w/" + obj.weather[0].icon + ".png";
    }
    
    if(request.status>=200 && request.status<400){

    }
    else{
        console.log("This city is not available")
    }
    request.send();

</script>
</html>